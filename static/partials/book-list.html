<div class="col-md-12" ng-init="update()">
  <h1>Lista de Livros</h1>
  <div class="col-md-3 col-md-offset-6">
    <input type="search" placeholder="Pesquisar" class="form-control" ng-model="query">
  </div>
  <div class="col-md-3 text-center">
    <button class="btn btn-default" ng-click="update()">
      <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
      <span>Atualizar</span>
    </button>
    <a href="#/books/add" class="btn btn-primary">
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
      <span>Adicionar</span>
    </a>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th class="text-center">Título</th>
        <th class="text-center">Autor</th>
        <th class="text-center">Categoria</th>
        <th class="text-center">Nº páginas</th>
        <th class="text-center">Publicação</th>
        <th class="text-center">Opções</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="book in books | filter:query as results">
        <td>{{ book.title }}</td>
        <td>{{ authors[book.author] }}</td>
        <td>{{ categories[book.category] }}</td>
        <td>{{ book.pages }}</td>
        <td>{{ book.published_in | date : 'dd/MM/yyyy' }}</td>
        <td>
          <a href="#/books/{{ book.id }}" title="Editar">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </a>
          <span ng-click="remove(book.id)" class="glyphicon glyphicon-trash text-danger" aria-hidden="true" title="Remover"></span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
